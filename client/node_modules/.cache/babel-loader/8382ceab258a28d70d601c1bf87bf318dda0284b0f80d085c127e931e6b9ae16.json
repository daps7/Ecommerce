{"ast":null,"code":"var _jsxFileName = \"C:\\\\nodejs_projects\\\\Ecommerce\\\\client\\\\src\\\\components\\\\Register.js\";\nimport React, { Component } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport LinkInClass from \"../components/LinkInClass\";\nimport { SERVER_HOST } from \"../config/global_constants\";\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n    this.handleSubmit = e => {\n      e.preventDefault();\n      if (this.state.password !== this.state.confirmPassword) {\n        this.setState({\n          errorMessage: \"Passwords do not match\"\n        });\n        return;\n      }\n      const user = {\n        first_name: this.state.first_name,\n        last_name: this.state.last_name,\n        username: this.state.username,\n        email: this.state.email,\n        password: this.state.password\n      };\n      axios.post(`${SERVER_HOST}/users/register`, user).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            this.setState({\n              errorMessage: res.data.errorMessage\n            });\n          } else\n            // user successfully registered\n            {\n              console.log(\"User registered\");\n              this.setState({\n                isRegistered: true\n              });\n            }\n        } else {\n          this.setState({\n            errorMessage: \"Registration failed\"\n          });\n        }\n      });\n    };\n    this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      errorMessage: \"\",\n      isRegistered: false\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-container\",\n      noValidate: true,\n      id: \"loginOrRegistrationForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, this.state.isRegistered ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/DisplayAllCars\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 44\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"New User Registration\"), this.state.errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 45\n      }\n    }, this.state.errorMessage), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"first_name\",\n      type: \"text\",\n      placeholder: \"First Name\",\n      autoComplete: \"first_name\",\n      value: this.state.first_name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"last_name\",\n      type: \"text\",\n      placeholder: \"Last Name\",\n      autoComplete: \"last_name\",\n      value: this.state.last_name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Username\",\n      autoComplete: \"username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      autoComplete: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      autoComplete: \"password\",\n      title: \"Password must be at least ten-digits long and contains at least one lowercase letter, one uppercase letter, one digit and one of the following characters (\\xA3!#\\u20AC$%^&*)\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"confirmPassword\",\n      type: \"password\",\n      placeholder: \"Confirm password\",\n      autoComplete: \"confirmPassword\",\n      value: this.state.confirmPassword,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(LinkInClass, {\n      value: \"Register New User\",\n      className: \"green-button\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"red-button\",\n      to: \"/DisplayAllCars\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, \"Cancel\"));\n  }\n}","map":{"version":3,"names":["React","Component","Redirect","Link","axios","LinkInClass","SERVER_HOST","Register","constructor","props","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","state","password","confirmPassword","errorMessage","user","first_name","last_name","username","email","post","then","res","data","console","log","isRegistered","render","createElement","className","noValidate","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","type","placeholder","autoComplete","onChange","title","onClick"],"sources":["C:/nodejs_projects/Ecommerce/client/src/components/Register.js"],"sourcesContent":["import React, {Component} from \"react\"\nimport {Redirect, Link} from \"react-router-dom\"\nimport axios from \"axios\"\n\nimport LinkInClass from \"../components/LinkInClass\"\n\nimport {SERVER_HOST} from \"../config/global_constants\"\n\n\nexport default class Register extends Component\n{\n    constructor(props)\n    {\n        super(props)\n        \n        this.state = {\n            first_name: \"\",\n            last_name: \"\",\n            username: \"\",\n            email: \"\",\n            password: \"\",\n            confirmPassword: \"\",\n            errorMessage: \"\",\n            isRegistered: false\n        } \n    }\n    \n    \n    handleChange = (e) => \n    {\n        this.setState({[e.target.name]: e.target.value})\n    }\n    \n    \n    handleSubmit = (e) => \n    {\n        e.preventDefault()\n\n        if (this.state.password !== this.state.confirmPassword) {\n            this.setState({errorMessage: \"Passwords do not match\"})\n            return\n        }\n\n        const user = {\n            first_name: this.state.first_name,\n            last_name: this.state.last_name,\n            username: this.state.username,\n            email: this.state.email,\n            password: this.state.password\n        }\n\n        axios.post(`${SERVER_HOST}/users/register`, user)\n        .then(res => \n        {     \n            if(res.data)\n            {\n                if (res.data.errorMessage)\n                {\n                    this.setState({errorMessage: res.data.errorMessage})\n                }\n                else // user successfully registered\n                { \n                    console.log(\"User registered\")                    \n                    this.setState({isRegistered:true})\n                }        \n            }\n            else\n            {\n                this.setState({errorMessage: \"Registration failed\"})\n            }\n        })   \n    }\n\n\n    render() \n    {     \n        return (\n            <form className=\"form-container\" noValidate={true} id=\"loginOrRegistrationForm\">\n           \n                {this.state.isRegistered ? <Redirect to=\"/DisplayAllCars\"/> : null} \n            \n                <h2>New User Registration</h2>\n                \n                {this.state.errorMessage && <p className=\"error\">{this.state.errorMessage}</p>}\n           \n                <input  \n                    name=\"first_name\"              \n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    autoComplete=\"first_name\"\n                    value={this.state.first_name}\n                    onChange={this.handleChange}\n                /><br/>           \n\n                <input  \n                    name=\"last_name\"              \n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    autoComplete=\"last_name\"\n                    value={this.state.last_name}\n                    onChange={this.handleChange}\n                /><br/>           \n\n                <input  \n                    name=\"username\"              \n                    type=\"text\"\n                    placeholder=\"Username\"\n                    autoComplete=\"username\"\n                    value={this.state.username}\n                    onChange={this.handleChange}\n                /><br/>           \n\n                <input  \n                    name=\"email\"              \n                    type=\"email\"\n                    placeholder=\"Email\"\n                    autoComplete=\"email\"\n                    value={this.state.email}\n                    onChange={this.handleChange}\n                /><br/>              \n\n                <input  \n                    name=\"password\"           \n                    type=\"password\"\n                    placeholder=\"Password\"\n                    autoComplete=\"password\"\n                    title=\"Password must be at least ten-digits long and contains at least one lowercase letter, one uppercase letter, one digit and one of the following characters (£!#€$%^&*)\"\n                    value={this.state.password}\n                    onChange={this.handleChange}\n                /><br/>           \n\n                <input          \n                    name=\"confirmPassword\"    \n                    type=\"password\"\n                    placeholder=\"Confirm password\"\n                    autoComplete=\"confirmPassword\"\n                    value={this.state.confirmPassword}\n                    onChange={this.handleChange}\n                /><br/><br/>\n                \n                <LinkInClass value=\"Register New User\" className=\"green-button\" onClick={this.handleSubmit} />\n                <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link>   \n            </form>\n        )\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}