{"ast":null,"code":"var _jsxFileName = \"C:\\\\nodejs_projects\\\\Ecommerce\\\\client\\\\src\\\\components\\\\Register.js\";\nimport React, { Component } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport LinkInClass from \"../components/LinkInClass\";\nimport { SERVER_HOST } from \"../config/global_constants\";\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const registerObject = {\n        username: this.state.username,\n        email: this.state.email,\n        password: this.state.password,\n        accessLevel: this.state.accessLevel\n      };\n      axios.post(`${SERVER_HOST}/users/register`, registerObject).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            this.setState({\n              errorMessage: res.data.errorMessage\n            });\n          } else\n            // user successfully registered\n            {\n              console.log(\"User registered\");\n              this.setState({\n                isRegistered: true\n              });\n            }\n        } else {\n          this.setState({\n            errorMessage: \"Registration failed\"\n          });\n        }\n      }).catch(err => {\n        console.error(\"Error registering:\", err);\n        this.setState({\n          errorMessage: \"Registration failed\"\n        });\n      });\n    };\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      accessLevel: 1,\n      // Default access level for registered users\n      errorMessage: \"\",\n      isRegistered: false\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-container\",\n      noValidate: true,\n      id: \"loginOrRegistrationForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, this.state.isRegistered ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 44\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \"Register\"), this.state.errorMessage && /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 45\n      }\n    }, this.state.errorMessage), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Username\",\n      autoComplete: \"username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      autoComplete: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      autoComplete: \"password\",\n      title: \"Password must be at least ten-digits long and contains at least one lowercase letter, one uppercase letter, one digit and one of the following characters (\\xA3!#\\u20AC$%^&*)\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"green-button\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(Link, {\n      className: \"red-button\",\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"Cancel\"));\n  }\n}","map":{"version":3,"names":["React","Component","Redirect","Link","axios","LinkInClass","SERVER_HOST","Register","constructor","props","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","registerObject","username","state","email","password","accessLevel","post","then","res","data","errorMessage","console","log","isRegistered","catch","err","error","render","createElement","className","noValidate","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","type","placeholder","autoComplete","onChange","title","onClick"],"sources":["C:/nodejs_projects/Ecommerce/client/src/components/Register.js"],"sourcesContent":["import React, {Component} from \"react\"\nimport {Redirect, Link} from \"react-router-dom\"\nimport axios from \"axios\"\n\nimport LinkInClass from \"../components/LinkInClass\"\n\nimport {SERVER_HOST} from \"../config/global_constants\"\n\n\nexport default class Register extends Component\n{\n    constructor(props)\n    {\n        super(props)\n        \n        this.state = {\n            username: \"\",\n            email: \"\",\n            password: \"\",\n            accessLevel: 1, // Default access level for registered users\n            errorMessage: \"\",\n            isRegistered: false\n        } \n    }\n    \n    \n    handleChange = (e) => \n    {\n        this.setState({[e.target.name]: e.target.value})\n    }\n    \n    \n    handleSubmit = (e) => \n    {\n        e.preventDefault()\n\n        const registerObject = {\n            username: this.state.username,\n            email: this.state.email,\n            password: this.state.password,\n            accessLevel: this.state.accessLevel\n        }\n\n        axios.post(`${SERVER_HOST}/users/register`, registerObject)\n        .then(res => \n        {     \n            if(res.data)\n            {\n                if (res.data.errorMessage)\n                {\n                    this.setState({errorMessage: res.data.errorMessage})\n                }\n                else // user successfully registered\n                { \n                    console.log(\"User registered\")                    \n                    this.setState({isRegistered:true})\n                }        \n            }\n            else\n            {\n                this.setState({errorMessage: \"Registration failed\"})\n            }\n        })\n        .catch(err => {\n            console.error(\"Error registering:\", err);\n            this.setState({errorMessage: \"Registration failed\"});\n        });\n    }\n\n\n    render() \n    {     \n        return (\n            <form className=\"form-container\" noValidate={true} id=\"loginOrRegistrationForm\">\n           \n                {this.state.isRegistered ? <Redirect to=\"/login\"/> : null} \n            \n                <h2>Register</h2>\n                \n                {this.state.errorMessage && <p className=\"error\">{this.state.errorMessage}</p>}\n           \n                <input  \n                    name=\"username\"              \n                    type=\"text\"\n                    placeholder=\"Username\"\n                    autoComplete=\"username\"\n                    value={this.state.username}\n                    onChange={this.handleChange}\n                /><br/>           \n\n                <input  \n                    name=\"email\"              \n                    type=\"email\"\n                    placeholder=\"Email\"\n                    autoComplete=\"email\"\n                    value={this.state.email}\n                    onChange={this.handleChange}\n                /><br/>              \n\n                <input  \n                    name=\"password\"           \n                    type=\"password\"\n                    placeholder=\"Password\"\n                    autoComplete=\"password\"\n                    title=\"Password must be at least ten-digits long and contains at least one lowercase letter, one uppercase letter, one digit and one of the following characters (£!#€$%^&*)\"\n                    value={this.state.password}\n                    onChange={this.handleChange}\n                /><br/><br/>\n                \n                <button type=\"button\" className=\"green-button\" onClick={this.handleSubmit}>Register</button>\n                <Link className=\"red-button\" to={\"/home\"}>Cancel</Link>   \n            </form>\n        )\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}